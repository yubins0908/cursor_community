# 커뮤니티앱 만들기

### 앱 특징 및 목표

- **사용자 친화적인 소통 공간** : 특정 관심사를 공유하는 소규모 그룹이나 커뮤니티 구성원들이 쉽고 편안하게 소통하고 정보를 나눌 수 있는 공간 제공
- **핵심 기능 중심의 MVP** : 사용자 인증, 게시물 작성/읽기/수정/삭제, 댓글 기능 등 커뮤닡티 앱의 필수 기능들을 우선적으로 구현
- **확장 가능한 구조** : 향후 기능 추가나 수익 모델을 염두에 둔 구조로 설계하여, 앱이 성장할 수 있는 기반을 다짐
- **커서 AI & Flutter 활용 극대화** : 개발 전 과정에서 커서 AI를 적극적으로 활용하여 생산성을 높이고 Flutter의 장점을 살려 효율적이고 아름다운 UI를 구현

### 앱의 핵심 기능

- **사용자 인증** : Firebase Authentication을 이용한 이메일/비밀번호 가반 회원 가입 및 로그인
- **게시물 관리(CRUD)** : Firestore를 이용한 게시물 작성/읽기/수정/삭제
- **댓글 기능** : Firestore 서브컬렉션을 이용한 게시물별 댓글 작성 및 조회
- **기본 UI/X** : Flutter 위젯을 활용한 직관적인 화면구성, 라이트/다크 테마

### 학습 목표

- **커서 AI 활용 능력** : 커서 AI의 주요 기능(코드 생성, 수정, 설명, 리팩토링, 맥락 관리 등)을 실제 프로젝트에 적용하고 AI와 효과적으로 헙업하는 방법을 익힘
- **Flutter 기본기 및 UI 개발** : Flutter의 핵심 위젯 사용법, 레이아웃 구성, 상태 관리 기본 개념을 이해하고 실제 앱 UI를 구현하는 능력 항샹
- **Firebase 연동 및 백엑드 기초** : Firebase Authentication과 Firestore를 활용하여 사용자 인증 및 데이터 관리 기능을 구현하는 방법을 배우고, 서버리스 백엔드 개발의 기초를 경험
- **MVP 개발 프로세스 이해** : 아이디어 구성부터 기획, 디자인, 개발, 간단한 배포 준비까지 앱 서비스 개발의 전체적인 흐름을 이해하고 경험
- **1인 개발 생산성 향상** : AI도구를 활용하여 혼자서도 효율적으로 앱 서비스를 개발하고, 관리하는 노하우 습득

### 브레인스토밍

[교환 일기: 감정의 온도] : "익명으로 나누는 속마음"
가까운 지인에게는 차마 말하지 못하는 속 깊은 고민을 나누는 소규모 그룹입니다.

핵심 컨셉: AI가 분석한 **'현재 감정 상태'**가 유사한 3명을 한 팀으로 묶어줍니다.

차별점: 텍스트가 아닌 **'목소리 일기'**나 **'직접 그린 그림'**으로만 소통합니다. 얼굴은 공개하지 않되, 서로의 일기에 '따뜻한 말 한마디'를 남겨야 다음 일기를 쓸 수 있는 시스템입니다.

효과: 익명성을 담보로 한 깊은 정서적 교감을 통해 심리적 안전망을 구축합니다.

### 사회 문제점

1. '이미지 관리'와 실망에 대한 두려움

지인들은 나에 대해 이미 형성된 **'고정된 이미지'**가 있습니다.

"넌 항상 밝잖아", "너는 멘탈이 강하니까" 같은 기대치에 부응해야 한다는 압박감이 존재합니다.

나의 취약점이나 어두운 면을 보여줬을 때, 상대방이 나를 다르게 보거나 실망할까 봐 본능적으로 방어 기제가 작동하는 것이죠.

1. '부메랑 효과'에 대한 걱정

지인과의 관계는 **'내일도 이어지는 관계'**입니다.

오늘 털어놓은 비밀이나 감정이 나중에 갈등이 생겼을 때 나를 공격하는 무기가 되거나, 우리 관계의 균형을 깨뜨릴까 봐 걱정합니다.

익명인에게는 "안 보고 살면 그만"이라는 심리적 퇴로가 있지만, 지인에게는 퇴로가 없습니다.

1. 감정적 부채감 (감정 쓰레기통이 될까 봐)

상대방을 너무 소중히 여기기 때문에 생기는 역설적인 이유입니다.

나의 우울함이나 고민이 상대방의 기분까지 망치게 될까 봐, 혹은 상대에게 **'정서적 짐'**을 지우는 것 같아 미안한 마음이 앞섭니다.

"나만 힘들면 됐지, 굳이 너까지 힘들게 하고 싶지 않아"라는 배려 섞인 침묵인 셈이죠.

1. 해결책이 아닌 '공감'만 필요할 때

지인들은 우리를 아끼기 때문에 고민을 들으면 즉시 **'해결책(Solution)'**을 제시하려 합니다.

"그럴 땐 이렇게 해봐", "네가 잘못했네" 같은 조언은 때로 비수가 되어 돌아옵니다.

하지만 우리는 그저 "나 지금 너무 힘들어"라는 말에 "나도 그래, 네 마음 알아"라는 순수한 공감이 필요할 뿐인데, 지인 관계에서는 이 경계가 무너지기 쉽습니다.

💡 [교환 일기] 앱이 이 문제를 해결하는 방식
이 앱은 위에서 언급한 심리적 장벽들을 기술적으로 허물어줍니다.

목소리와 그림: 텍스트보다 훨씬 더 원초적이고 진솔한 감정을 전달하면서도, 얼굴을 가려 익명성을 유지합니다. (이미지 관리 불필요)

AI 감정 매칭: "나만 이런 게 아니구나"라는 보편적 유대감을 즉각적으로 제공합니다. (감정적 부채감 해소)

강제된 따뜻함: '따뜻한 한마디'를 남겨야 다음 일기를 쓸 수 있게 함으로써, 평가나 조언이 아닌 지지가 기본값인 안전한 환경을 만듭니다.

### MVP 앱 아이디어

**[교환 일기: 감정의 온도]**의 MVP(Minimum Viable Product, 최소 기능 제품) 개발을 위한 핵심 기획안을 제안해 드립니다. 기존의 익명 게시판(에브리타임, 블라인드)이나 힐링 앱(어라운드, 달팽이 편지)과는 확연히 다른 **'감각적 연결'**과 **'강력한 필터링'**에 초점을 맞췄습니다.

[MVP 단계의 핵심 컨셉: "3인의 온실"]
불특정 다수에게 노출되는 피드 방식이 아니라, AI가 매칭해준 3명이 하나의 가상 '온실'에서 24시간 동안 머물며 교류하는 방식입니다.

1. 차별화된 핵심 기능 (Core Features)

① 비언어적 기록 (Voice & Sketch Only)

내용: 텍스트 입력을 과감히 배제하거나 최소화합니다. 대신 1분 내외의 '목소리 녹음' 또는 '손그림/낙서'로 일기를 작성합니다.

차별점: 텍스트는 가공되기 쉽고 차갑습니다. 목소리의 떨림이나 거친 선의 낙서는 말로 다 할 수 없는 감정의 '온도'를 그대로 전달합니다. 기록에 대한 심리적 허들을 낮추는 효과도 있습니다.

② AI 감정 동기화 매칭 (Emotional Sync)

내용: 작성된 목소리나 그림의 분위기를 AI가 분석하여 '감정 온도'를 측정합니다. (예: 우울 25도, 분노 80도, 평온 36.5도)

차별점: 단순히 키워드로 묶는 게 아니라, 현재 감정의 '결'이 가장 유사한 3명을 한 그룹으로 묶습니다. "나와 비슷한 상태의 사람이 어딘가 또 있다"는 사실만으로도 깊은 위로를 줍니다.

③ 리액션 락(Reaction Lock) 시스템

내용: 다른 멤버의 일기에 '따뜻한 말(보이스 리플)'이나 '공감 스티커'를 남기기 전까지는 자신의 다음 일기를 볼 수 없거나, 온실의 온도가 올라가지 않습니다.

차별점: 눈팅만 하는 사용자를 방지하고, 반드시 상호작용이 일어나게 설계하여 '답장이 오지 않을까 봐' 느끼는 불안감을 없앱니다.

④ 휘발성 온실 (Ephemeral Room)

내용: 매칭된 그룹은 24시간(혹은 일주일 단위) 동안만 유지됩니다. 기간이 끝나면 대화 기록은 각자의 '보관함'으로 이동하고 관계는 초기화됩니다.

차별점: 지인 관계에서 느끼는 '지속성의 부담'을 완전히 제거합니다. 오늘만 허락된 안전한 연결임을 강조합니다.

### 가상 사용자 페르소나


|             |                                                                                                       |
| ----------- | ----------------------------------------------------------------------------------------------------- |
| **항목**      | **상세 내용**                                                                                             |
| **이름 / 나이** | **이서윤 (29세)**                                                                                         |
| **직업**      | 백화점 VIP 라운지 컨시어지                                                                                      |
| **일기 경험**   | 고등학생 때까지 교환 일기를 썼던 향수가 있음. 현재는 인스타그램 '부계정'에 가끔 짧은 글을 남기지만, 지인들이 팔로우할까 봐 불안해함.                         |
| **앱 사용 동기** | 하루 종일 미소를 지으며 남의 요구를 들어주느라 정작 **'나의 진짜 기분'**이 뭔지 잊어버림. "수고했다"는 말이 듣고 싶지만, 가까운 사람들에겐 늘 밝은 모습만 보여주고 싶음. |
| **불편한 점**   | 텍스트로 감정을 정리하려니 너무 격해지거나, 반대로 너무 꾸미게 됨. 누군가에게 내 **목소리의 떨림**을 그대로 들려주고 위로받고 싶음.                         |
| **특이사항**    | 목소리 변조 기능을 통해 익명성을 보장받으면서도, 진솔한 감정을 털어놓는 것에 큰 해방감을 느낌.                                                |



|             |                                                                                                         |
| ----------- | ------------------------------------------------------------------------------------------------------- |
| **항목**      | **상세 내용**                                                                                               |
| **이름 / 나이** | **최진우 (34세)**                                                                                           |
| **직업**      | 3년 차 프리랜서 개발자 (풀 재택근무)                                                                                  |
| **일기 경험**   | 일기 써본 적 없음. 감정을 글로 표현하는 것이 오글거리고 낯설게 느껴짐.                                                               |
| **앱 사용 동기** | 온종일 대화 상대가 없어 가끔 **'사회적 실어증'**이 오는 것 같은 공포를 느낌. 거창한 동호회는 부담스럽고, 그저 나와 비슷한 고요한 외로움을 느끼는 사람의 존재를 확인하고 싶음. |
| **불편한 점**   | 글로 길게 쓰는 소통은 피곤함. 그냥 오늘 내가 들은 음악이나, 창밖 풍경을 그린 **간단한 낙서**로 내 상태를 툭 던져두고 싶음.                              |
| **특이사항**    | **'손그림/낙서 일기'** 기능을 선호함. AI가 자신의 무채색 그림을 보고 비슷한 차분한 톤의 사람들을 매칭해줄 때 깊은 동질감을 느낌.                          |



|             |                                                                                                     |
| ----------- | --------------------------------------------------------------------------------------------------- |
| **항목**      | **상세 내용**                                                                                           |
| **이름 / 나이** | **강도현 (22세)**                                                                                       |
| **직업**      | 미대 재학생 (휴학 고민 중)                                                                                    |
| **일기 경험**   | 스케치북 구석에 짧은 문장이나 낙서를 남기는 습관이 있음. 하지만 누구에게도 보여준 적은 없음.                                               |
| **앱 사용 동기** | 부모님은 "취업 잘되는 과로 전과해라", 친구들은 "넌 재능 있잖아"라며 각자의 입장에서만 말함. 내 불안함을 있는 그대로 봐줄 **제3자의 시선**이 필요함.           |
| **불편한 점**   | 조언이나 해결책(Solution)은 지겨움. 그저 내 우울한 그림을 보고 "오늘 선이 참 위태로워 보이네요. 힘든 일이 있었나 봐요"라고 해줄 **정서적 지지자**를 찾고 싶음. |
| **특이사항**    | **'리액션 락'** 시스템 덕분에 누군가 반드시 내 일기를 봐준다는 확신이 있어 앱을 매일 켬.                                              |


### 유사 서비스


|             |                    |                    |                   |                    |
| ----------- | ------------------ | ------------------ | ----------------- | ------------------ |
| **비교 항목**   | **감정의 온도 (아이디어)**  | **마음 (Maum)**      | **슬로우리 (Slowly)** | **어라운드 (Around)**  |
| **서비스 성격**  | **소수 정예 정서적 동기화**  | 실시간 익명 보이스 채팅      | 디지털 펜팔 (느린 소통)    | 익명 힐링 게시판          |
| **핵심 매체**   | **목소리 녹음, 손그림**    | 실시간 음성 통화          | 텍스트(편지)           | 텍스트(피드)            |
| **소통 구조**   | **폐쇄형 3인 그룹 (온실)** | 1:1 무작위 연결         | 1:1 장거리 매칭        | 불특정 다수(오픈형)        |
| **매칭 알고리즘** | **AI 기반 감정 온도 분석** | 언어, 관심사 기반         | 위치, 선호 주제 기반      | 없음 (최신순 노출)        |
| **관계의 지속성** | **휘발성 (24h/주 단위)** | 일회성 혹은 친구 추가       | 장기적 관계 지향         | 느슨한 팔로잉 관계         |
| **심리적 허들**  | **매우 낮음** (그리기/녹음) | **보통** (실시간 대화 부담) | **높음** (장문의 글쓰기)  | **보통** (비난에 대한 우려) |
| **주요 리액션**  | **리액션 락 (필수 공감)**  | 실시간 대화             | 답장 편지             | 댓글 및 하트            |
| **핵심 가치**   | **"나와 같은 온도의 존재"** | "지금 당장 대화할 상대"     | "진지하고 깊은 교류"      | "감정의 배설과 위로"       |


# [PRD] 교환 일기: 감정의 온도 (Emotional Temperature)

## 1. 프로젝트 개요

- **대상 사용자:** 사회적 가면으로 인해 감정적 고립을 느끼는 2030 직장인 및 대학생.
- **앱의 목표:** * 비언어적 매체(목소리, 그림)를 통한 심리적 배설구 제공.
  - Firebase의 실시간 기능을 활용한 즉각적이고 따뜻한 상호작용 경험.
  - AI 감정 분석 기반의 소규모(3인) 정서 공동체 형성.

---

## 2. 핵심 기능 (Core Features)

### ① AI 감정 동기화 & 실시간 매칭

- **감정 분석:** 사용자가 업로드한 음성/그림 데이터를 **Firebase Cloud Functions**를 통해 AI API(OpenAI 등)와 연동, 감정 온도(0~100) 산출.
- **매칭 알고리즘:** **Firestore**의 실시간 리스너를 활용하여 유사 온도 구간의 대기자 3명을 즉시 '온실(Greenhouse)'로 매칭.
- **상태 알림:** 매칭 성공 시 **FCM(Push Notification)**을 통해 사용자에게 즉시 알림.

### ② 감각적 일기 기록 (Voice & Canvas)

- **데이터 저장:** 음성 파일(.m4a)과 그림 파일(.png)을 **Firebase Cloud Storage**에 저장.
- **익명성 강화:** Cloud Functions 내에서 오디오 변조 프로세싱을 거쳐 원본 목소리 보호 가능.
- **자동 삭제:** 24시간이 지난 온실 데이터는 Firestore에서 '비활성' 처리하여 휘발성 유지.

### ③ 리액션 락 (Reaction Lock) 시스템

- **잠금 로직:** Firestore 내 온실 문서의 `reaction_count` 필드를 참조.
- **작동:** 본인을 제외한 멤버 2명에게 공감(스티커/보이스)을 남겨야만 자신의 다음 기록 권한 획득.
- **실시간 업데이트:** 타인의 리액션이 등록되면 Firestore 스냅샷을 통해 앱 화면에 즉각 반영.

---

## 3. 기술 스택 (Technical Stack - Firebase Centric)


|                |                     |                                 |
| -------------- | ------------------- | ------------------------------- |
| **구분**         | **기술 스택**           | **용도**                          |
| **Frontend**   | Flutter             | iOS/Android 크로스 플랫폼 개발          |
| **Auth**       | **Firebase Auth**   | 구글/애플/익명 로그인 및 세션 관리            |
| **Database**   | **Cloud Firestore** | 유저 프로필, 온실 데이터, 실시간 채팅/기록 메타데이터 |
| **Storage**    | **Cloud Storage**   | 음성 녹음 파일 및 드로잉 이미지 파일 호스팅       |
| **Serverless** | **Cloud Functions** | AI 감정 분석 연동, 매칭 로직 실행, 파일 포맷 변환 |
| **Push**       | **FCM**             | 리액션 도착 및 온실 생성 알림               |


---

## 4. 향후 추가 기능 (Roadmap)

- **감정 아카이브:** Firebase에 저장된 과거 온도를 시각화하여 '나의 마음 날씨 그래프' 제공.
- **온도별 테마:** 매칭된 그룹의 평균 온도에 따라 **Firestore**에서 실시간으로 배경 음악(ASMR) 스트리밍 경로 제공.
- **안심 신고 시스템:** 부적절한 음성/그림 업로드 시 AI 가드레일을 통한 자동 필터링 및 차단.

---

## 5. 성공 지표 (Success Metrics)

- **Daily Active Greenhouse (DAG):** 하루에 생성되는 유효 온실(3인 매칭 완료)의 수.
- **Reaction Completion Rate:** 매칭된 사용자가 리액션 락을 해제하기 위해 공감을 남기는 비율.
- **Average Session Duration:** 텍스트가 없음에도 목소리와 그림을 통해 교류하는 평균 시간.
- **Firebase Cost per User:** 무료 티어 내 효율적인 데이터 호출을 통한 사용자당 비용 최적화 여부.

